# OpalPixel Invoice Management System

A Flask-based invoice and receipt management system with admin and worker dashboards.

## Features
- Admin & Worker dashboards
- Invoice creation & management
- Receipt generation
- CSV export functionality
- User management
- Financial reports with charts

## Database: MongoDB

This app uses **MongoDB** for data storage. You'll need either:
- **Local MongoDB**: Install MongoDB Community Edition
- **MongoDB Atlas** (Recommended for deployment): Free cloud-hosted MongoDB

### Setting up MongoDB Atlas (Free)

1. Go to [mongodb.com/cloud/atlas](https://www.mongodb.com/cloud/atlas)
2. Sign up for free
3. Create a new cluster (Free M0 tier)
4. Click "Connect" → "Connect your application"
5. Copy the connection string (looks like: `mongodb+srv://user:pass@cluster.xxxxx.mongodb.net/opalpixel`)
6. Replace `<password>` with your actual password

## Local Development

```bash
# Create virtual environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt

# Set MongoDB connection (use your Atlas URI or local MongoDB)
export MONGODB_URI="mongodb+srv://youruser:yourpassword@cluster.xxxxx.mongodb.net/opalpixel"

# Or for local MongoDB:
# export MONGODB_URI="mongodb://localhost:27017/opalpixel"

# Run the app
flask run
```

## Default Admin Account

On first run, the app creates a default admin:
- **Name**: `OpalPixel`
- **Worker ID**: `OPL-0508748992`

## Deployment on Render.com (Free)

1. Create a MongoDB Atlas account and cluster (free tier)
2. Get your MongoDB connection string
3. Push code to GitHub
4. Go to [render.com](https://render.com) and sign up
5. Click "New +" → "Web Service"
6. Connect your GitHub repo
7. Add environment variable:
   - `MONGODB_URI` = your MongoDB Atlas connection string
8. Deploy!

Your app will be available at: `https://opalpixel.onrender.com`

## Environment Variables (Production)
- `SECRET_KEY` - Auto-generated by Render
- `MONGODB_URI` - MongoDB Atlas connection string

## Tech Stack
- Flask (Python web framework)
- Flask-MongoEngine (MongoDB ODM)
- Flask-Login (Authentication)
- MongoDB Atlas (Cloud database)
- Gunicorn (Production server)
